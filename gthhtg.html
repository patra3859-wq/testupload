<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <title>gthhtg | 3D PDF Viewer</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: #111;
    }
    canvas {
      display: block;
    }
  </style>

  <!-- Three.js -->
  <script src='https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js'></script>
  <script src='https://cdn.jsdelivr.net/npm/three@0.160.0/examples/js/controls/OrbitControls.js'></script>

  <!-- PDF.js -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js'></script>
</head>
<body>
  <script>
    const pdfUrl = 'https://cdn.jsdelivr.net/gh/patra3859-wq/testupload/gthhtg.PDF';

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;
    controls.enableZoom = true;

    const light = new THREE.AmbientLight(0xffffff, 1.0);
    scene.add(light);

    // Load PDF page as texture
    pdfjsLib.getDocument(pdfUrl).promise.then(function(pdf) {
      pdf.getPage(1).then(function(page) {
        const viewport = page.getViewport({ scale: 2 });
        const canvas = document.createElement('canvas');
        const context = canvas.getContext('2d');
        canvas.height = viewport.height;
        canvas.width = viewport.width;

        const renderContext = {
          canvasContext: context,
          viewport: viewport
        };

        page.render(renderContext).promise.then(function() {
          const texture = new THREE.Texture(canvas);
          texture.needsUpdate = true;

          const geometry = new THREE.PlaneGeometry(10, 10 * (canvas.height / canvas.width));
          const material = new THREE.MeshBasicMaterial({ map: texture });
          const plane = new THREE.Mesh(geometry, material);
          scene.add(plane);

          camera.position.z = 15;

          animate();

          function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
          }
        });
      });
    });
    
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>
</html>